2025-03-29 13:02:17,692 - yamllm - ERROR - Non-streaming error: Error code: 400 - [{'error': {'code': 400, 'message': 'Invalid JSON payload received. Unknown name "frequency_penalty": Cannot find field.', 'status': 'INVALID_ARGUMENT', 'details': [{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'description': 'Invalid JSON payload received. Unknown name "frequency_penalty": Cannot find field.'}]}]}}]
2025-03-29 13:02:17,693 - yamllm - ERROR - Unexpected error during query: Error getting non-streaming response: Error code: 400 - [{'error': {'code': 400, 'message': 'Invalid JSON payload received. Unknown name "frequency_penalty": Cannot find field.', 'status': 'INVALID_ARGUMENT', 'details': [{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'description': 'Invalid JSON payload received. Unknown name "frequency_penalty": Cannot find field.'}]}]}}]
2025-03-29 13:04:41,145 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:04:44,061 - yamllm - ERROR - Non-streaming error: Error code: 400 - [{'error': {'code': 400, 'message': 'Value is not a string: null', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 13:04:44,062 - yamllm - ERROR - Unexpected error during query: Error getting non-streaming response from Google: Error code: 400 - [{'error': {'code': 400, 'message': 'Value is not a string: null', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 13:06:27,149 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:06:38,933 - yamllm - ERROR - Non-streaming error: Error code: 400 - [{'error': {'code': 400, 'message': 'Value is not a string: null', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 13:06:38,934 - yamllm - ERROR - Unexpected error during query: Error getting non-streaming response from Google: Error code: 400 - [{'error': {'code': 400, 'message': 'Value is not a string: null', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 13:08:38,851 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:11:38,975 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:12:04,872 - yamllm - ERROR - Tool processing error: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 13:12:04,872 - yamllm - ERROR - Non-streaming error: Error processing tool calls for Google model: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 13:12:04,872 - yamllm - ERROR - Unexpected error during query: Error getting non-streaming response from Google: Error processing tool calls for Google model: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 13:14:00,598 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:15:42,436 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:21:02,379 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:24:42,856 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:26:40,801 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:31:14,605 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:31:51,180 - yamllm - WARNING - Google preview request failed: 'OpenAIGPT' object has no attribute '_prepare_completion_params'
2025-03-29 13:31:51,180 - yamllm - ERROR - Streaming error: 'OpenAIGPT' object has no attribute '_prepare_completion_params'
2025-03-29 13:31:57,057 - yamllm - WARNING - Google preview request failed: 'OpenAIGPT' object has no attribute '_prepare_completion_params'
2025-03-29 13:31:57,058 - yamllm - ERROR - Streaming error: 'OpenAIGPT' object has no attribute '_prepare_completion_params'
2025-03-29 13:32:02,146 - yamllm - WARNING - Google preview request failed: 'OpenAIGPT' object has no attribute '_prepare_completion_params'
2025-03-29 13:32:02,146 - yamllm - ERROR - Streaming error: 'OpenAIGPT' object has no attribute '_prepare_completion_params'
2025-03-29 13:32:36,153 - yamllm - ERROR - Unexpected error during query: 'OpenAIGPT' object has no attribute '_handle_non_streaming_response'
2025-03-29 13:34:41,957 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:39:22,961 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:45:26,869 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:48:15,746 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:54:01,240 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:54:15,524 - yamllm - INFO - Forcing direct tool usage (web_search) for query: Whats the weather like in Kingsbridge
2025-03-29 13:54:36,389 - yamllm - INFO - Forcing direct tool usage (web_search) for query: Whats the weather like in Kingsbridge Devon?
2025-03-29 13:55:15,078 - yamllm - INFO - Forcing direct tool usage (web_search) for query: Look at the weather Kingsbridge
2025-03-29 13:58:41,352 - yamllm - INFO - Initialized GoogleGemini with model gemini-1.5-flash using OpenAI compatibility layer
2025-03-29 13:58:52,574 - yamllm - INFO - Weather query detected. Location: 'whats the', Search query: 'current weather in whats the'
2025-03-29 13:58:52,574 - yamllm - INFO - Forcing direct tool usage (web_search) for query: Whats the weather like in Northwich UK
2025-03-29 13:59:52,126 - yamllm - INFO - Forcing direct tool usage (web_search) for query: What are the next 5 fixtures for Manchester United
2025-03-29 14:00:28,034 - yamllm - INFO - Forcing direct tool usage (web_search) for query: What is the latest news on the earthquake in Asia
2025-03-29 14:00:43,003 - yamllm - INFO - Forcing direct tool usage (web_search) for query: What is the latest news on Greenland
2025-03-29 14:14:51,174 - yamllm - ERROR - Error processing tool calls: Error code: 400 - {'error': {'message': "An assistant message with 'tool_calls' must be followed by tool messages responding to each 'tool_call_id'. The following tool_call_ids did not have response messages: call_l7UEVVDUffo7eBUFSSaYlK7c", 'type': 'invalid_request_error', 'param': 'messages.[14].role', 'code': None}}
2025-03-29 14:14:51,174 - yamllm - ERROR - Non-streaming error: Error processing tool calls: Error code: 400 - {'error': {'message': "An assistant message with 'tool_calls' must be followed by tool messages responding to each 'tool_call_id'. The following tool_call_ids did not have response messages: call_l7UEVVDUffo7eBUFSSaYlK7c", 'type': 'invalid_request_error', 'param': 'messages.[14].role', 'code': None}}
2025-03-29 14:14:51,174 - yamllm - ERROR - Unexpected error during query: Error getting non-streaming response: Error processing tool calls: Error code: 400 - {'error': {'message': "An assistant message with 'tool_calls' must be followed by tool messages responding to each 'tool_call_id'. The following tool_call_ids did not have response messages: call_l7UEVVDUffo7eBUFSSaYlK7c", 'type': 'invalid_request_error', 'param': 'messages.[14].role', 'code': None}}
2025-03-29 14:16:44,473 - yamllm - ERROR - Non-streaming error: Error code: 400 - [{'error': {'code': 400, 'message': 'Value is not a string: null', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:16:44,474 - yamllm - ERROR - Unexpected error during query: Error getting non-streaming response: Error code: 400 - [{'error': {'code': 400, 'message': 'Value is not a string: null', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:18:22,997 - yamllm - ERROR - Non-streaming error: Error code: 400 - [{'error': {'code': 400, 'message': 'Value is not a string: null', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:18:22,997 - yamllm - ERROR - Unexpected error during query: Error getting non-streaming response: Error code: 400 - [{'error': {'code': 400, 'message': 'Value is not a string: null', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:19:56,674 - yamllm - ERROR - Non-streaming error: Error code: 400 - [{'error': {'code': 400, 'message': 'Value is not a string: null', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:19:56,674 - yamllm - ERROR - Unexpected error during query: Error getting non-streaming response: Error code: 400 - [{'error': {'code': 400, 'message': 'Value is not a string: null', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:20:50,186 - yamllm - ERROR - Non-streaming error: Error code: 400 - [{'error': {'code': 400, 'message': 'Value is not a string: null', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:20:50,186 - yamllm - ERROR - Unexpected error during query: Error getting non-streaming response: Error code: 400 - [{'error': {'code': 400, 'message': 'Value is not a string: null', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:28:53,986 - yamllm - ERROR - Error processing tool calls: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:28:53,986 - yamllm - WARNING - Forced tool call failed: Error processing tool calls: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:28:54,086 - yamllm - ERROR - Streaming error: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:28:54,086 - yamllm - WARNING - Tool detection request failed: Error getting streaming response: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:28:54,175 - yamllm - ERROR - Streaming error: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:28:54,175 - yamllm - ERROR - Unexpected error during query: Error getting streaming response: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:31:14,173 - yamllm - ERROR - Error processing tool calls: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:31:14,173 - yamllm - WARNING - Forced tool call failed: Error processing tool calls: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:31:51,616 - yamllm - ERROR - Error processing tool calls: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:31:51,616 - yamllm - WARNING - Forced tool call failed: Error processing tool calls: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:51:39,525 - yamllm - ERROR - Error processing tool calls: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:51:39,525 - yamllm - ERROR - Non-streaming error: Error processing tool calls: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 14:51:39,525 - yamllm - ERROR - Unexpected error during query: Error getting non-streaming response: Error processing tool calls: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 15:03:51,057 - yamllm - ERROR - Error processing tool calls: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because it has an empty text parameter. Add a value to the parameter and try again. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini', 'status': 'INVALID_ARGUMENT'}}]
2025-03-29 15:31:50,321 - yamllm - WARNING - Preview request failed: Error code: 422 - {'object': 'error', 'message': {'detail': [{'type': 'string_type', 'loc': ['body', 'stop', 'str'], 'msg': 'Input should be a valid string', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/string_type'}, {'type': 'list_type', 'loc': ['body', 'stop', 'list[str]'], 'msg': 'Input should be a valid list', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/list_type'}]}, 'type': 'invalid_request_error', 'param': None, 'code': None}
2025-03-29 15:31:50,475 - yamllm - ERROR - Streaming error: Error code: 422 - {'object': 'error', 'message': {'detail': [{'type': 'string_type', 'loc': ['body', 'stop', 'str'], 'msg': 'Input should be a valid string', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/string_type'}, {'type': 'list_type', 'loc': ['body', 'stop', 'list[str]'], 'msg': 'Input should be a valid list', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/list_type'}]}, 'type': 'invalid_request_error', 'param': None, 'code': None}
2025-03-29 15:31:50,476 - yamllm - ERROR - Unexpected error during query: Error getting streaming response: Error code: 422 - {'object': 'error', 'message': {'detail': [{'type': 'string_type', 'loc': ['body', 'stop', 'str'], 'msg': 'Input should be a valid string', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/string_type'}, {'type': 'list_type', 'loc': ['body', 'stop', 'list[str]'], 'msg': 'Input should be a valid list', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/list_type'}]}, 'type': 'invalid_request_error', 'param': None, 'code': None}
2025-03-29 16:49:05,297 - yamllm - ERROR - Unexpected error during query: WeatherTool.__init__() missing 1 required positional argument: 'api_key'
2025-03-29 16:53:53,643 - yamllm - ERROR - Error executing tool 'weather': WeatherTool.execute() got an unexpected keyword argument 'location'
